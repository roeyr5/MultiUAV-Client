<div class="container">
  <div class="top">
    <div class="top-buttons">
      <button mat-button class="button" (click)="toggleSideBar()">
        Add Parameter
      </button>
      <button mat-button class="button" (click)="MoveParameters()">
        Enable drag and move
      </button>
    </div>
  </div>
  <div class="body">
    <gridster class="gridster" [options]="options">
      <gridster-item *ngFor="let item of dashboard; trackBy: trackByFn" [item]="item">
        <div class="widget-content">

          <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Settings" >
            <mat-icon>settings</mat-icon>
          </button>

          <mat-menu #menu="matMenu">
            <button mat-menu-item *ngFor="let graph of graphOptions" (click)="changeChartType(item, graph.value)" >
              <img [src]="graph.image" style="width: 18px; height: 18px" />
              <span>{{ graph.label }}</span>
            </button>
          </mat-menu>

          <ng-container *ngIf="item.datasets.length > 0 && item.datasets; else emptyChart">
            
            <app-gridster-block
              [item]="item"
            ></app-gridster-block>
          </ng-container>
          

          <ng-template #emptyChart>
            <p>No data available. Waiting for updates...</p>
          </ng-template>
          
        </div>
      </gridster-item>
    </gridster>
  </div>
</div>
<app-side-bar-parameters
(onCloseSideBar)="onCloseSideBar()"
(onAddParameter)="onAddParameter($event)"
(onRemoveParameter)="onRemoveParameter($event)"
[uavsList]="uavsList"
[parametersMap]="parametersMap"
[selectedParametersMap]="selectedParametersMap"
*ngIf="isSideBarOpen"
></app-side-bar-parameters>

